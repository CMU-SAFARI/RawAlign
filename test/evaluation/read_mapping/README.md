# Evaluation - Read Mapping

We assume your current directory points to this directory ([`read_mapping`](./))

## Organization

Each directory includes the scripts to run RawAlign, UNCALLED, Sigmap, RawHash, and minimap2 for the corresponding dataset where the dataset name is specified in the directory name. To run all tools and configurations for a dataset, you can simply run the `0_run_all.sh` script in the directory. For example, to run all tools for the `ecoli` dataset, you can run the following commansd:

```bash
cd d2_ecoli_r94
bash 0_run_all.sh
cd ..
```

After running minimap2, each directory should include `true_mappings.paf` that can be used as the ground truth mapping information for the corresponding dataset.

After running RawAlign, UNCALLED, Sigmap, and RawHash, each directory should include a subdirectory called `outdir` which includes the mapping output of each tool in `PAF` format.

### Comparing RawAlign to UNCALLED, Sigmap, and RawHash

Each directory includes a subdirectory called `comparison` where there are three scripts: `0_run.sh`, `1_generate_results.sh`, and `2_output_results.sh`. These scripts use the output generated by each tool for a certain dataset to compare them each other. In each directory, we provide the README files that show how to use these scripts.

## Running and comparing the tools
Use the following commands to run all tools on all read mapping datasets and compare them to each other:

```bash
cd d1_sars-cov-2_r94       && bash 0_run_all.sh && cd comparison &&  bash 0_run.sh && cd ../..
cd d2_ecoli_r94            && bash 0_run_all.sh && cd comparison &&  bash 0_run.sh && cd ../..
cd d3_yeast_r94            && bash 0_run_all.sh && cd comparison &&  bash 0_run.sh && cd ../..
cd d4_green_algae_r94      && bash 0_run_all.sh && cd comparison &&  bash 0_run.sh && cd ../..
cd d5_human_na12878_r94 && bash 0_run_all.sh && cd comparison &&  bash 0_run.sh && cd ../..
```
